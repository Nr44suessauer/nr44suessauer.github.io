import C from"./20UG4DZg.js";import j from"./DwcayoKr.js";import w from"./dHm8A_OH.js";import{v as y,u as B,x as k,P as f,d as b,y as N,z as S,A as l,B as d,C as E,c as A,D as H,E as O,F as m,G as T,H as D,S as F,I as R,J as $,L as I,a as M,K as U,M as W,k as q,o as p,n as g,w as P,N as L}from"./Dw8pIfjT.js";import"./D7Xh50Jw.js";import"./76o_WpOd.js";const z=y({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(o,a){return()=>m(d[o.name],o.layoutProps,a.slots)}}),G={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},J=y({name:"NuxtLayout",inheritAttrs:!1,props:G,setup(o,a){const e=B(),u=k(f),t=!u||u===b()?N():u,n=S(()=>{let s=l(o.name)??(t==null?void 0:t.meta.layout)??"default";return s&&!(s in d)&&o.fallback&&(s=l(o.fallback)),s}),i=E();a.expose({layoutRef:i});const r=e.deferHydration();if(e.isHydrating){const s=e.hooks.hookOnce("app:error",r);A().beforeEach(s)}let c;return()=>{const s=n.value&&n.value in d,v=(t==null?void 0:t.meta.layoutTransition)??H,x=c;return c=n.value,O(s&&v,{default:()=>m(F,{suspensible:!0,onResolve:()=>{D(r)}},{default:()=>m(K,{layoutProps:T(a.attrs,{ref:i}),key:n.value||void 0,name:n.value,shouldProvide:!o.name,isRenderingNewLayout:h=>h!==x&&h===n.value,hasTransition:!!v},a.slots)})}).default()}}}),K=y({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(o,a){const e=o.name;o.shouldProvide&&R(I,{isCurrent:t=>e===(t.meta.layout??"default")});const u=k(f);if(u&&u===b()){const t=N(),n={};for(const i in t){const r=i;Object.defineProperty(n,r,{enumerable:!0,get:()=>o.isRenderingNewLayout(o.name)?t[r]:u[r]})}R(f,$(n))}return()=>{var t,n;return!e||typeof e=="string"&&!(e in d)?(n=(t=a.slots).default)==null?void 0:n.call(t):m(z,{key:e,layoutProps:o.layoutProps,name:e},a.slots)}}}),V={class:"document-driven-page"},oe=y({__name:"document-driven",setup(o){const{contentHead:a}=M().public.content,{page:e,layout:u}=U();return e.value,a&&W(e),(_,t)=>{const n=C,i=j,r=w,c=J;return p(),q("div",V,[g(c,{name:l(u)||"default"},{default:P(()=>[l(e)?(p(),L(i,{key:l(e)._id,value:l(e)},{empty:P(({value:s})=>[g(n,{value:s},null,8,["value"])]),_:1},8,["value"])):(p(),L(r,{key:1}))]),_:1},8,["name"])])}}});export{oe as default};
