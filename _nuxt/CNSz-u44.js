import P from"./CiY9RzWy.js";import k from"./Bmin3HWb.js";import L from"./CPwUlgvW.js";import{v as d,u as b,x as g,P as x,d as R,y as B,z as C,A as u,B as m,r as S,c as j,C as A,D as H,E as p,F as N,G as T,S as D,H as E,L as O,a as w,I as $,J as F,k as I,o as y,n as f,w as _,K as v}from"./CN4v5qsw.js";import"./CPUQ0YuI.js";import"./76o_WpOd.js";const z=d({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,o){return()=>p(m[t.name],t.layoutProps,o.slots)}}),G={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},J=d({name:"NuxtLayout",inheritAttrs:!1,props:G,setup(t,o){const e=b(),n=g(x),s=n===R()?B():n,r=C(()=>{let a=u(t.name)??s.meta.layout??"default";return a&&!(a in m)&&t.fallback&&(a=u(t.fallback)),a}),l=S();o.expose({layoutRef:l});const i=e.deferHydration();if(e.isHydrating){const a=e.hooks.hookOnce("app:error",i);j().beforeEach(a)}return()=>{const a=r.value&&r.value in m,c=s.meta.layoutTransition??A;return H(a&&c,{default:()=>p(D,{suspensible:!0,onResolve:()=>{T(i)}},{default:()=>p(K,{layoutProps:N(o.attrs,{ref:l}),key:r.value||void 0,name:r.value,shouldProvide:!t.name,hasTransition:!!c},o.slots)})}).default()}}}),K=d({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(t,o){const e=t.name;return t.shouldProvide&&E(O,{isCurrent:n=>e===(n.meta.layout??"default")}),()=>{var n,s;return!e||typeof e=="string"&&!(e in m)?(s=(n=o.slots).default)==null?void 0:s.call(n):p(z,{key:e,layoutProps:t.layoutProps,name:e},o.slots)}}}),M={class:"document-driven-page"},Y=d({__name:"document-driven",setup(t){const{contentHead:o}=w().public.content,{page:e,layout:n}=$();return e.value,o&&F(e),(s,r)=>{const l=P,i=k,a=L,c=J;return y(),I("div",M,[f(c,{name:u(n)||"default"},{default:_(()=>[u(e)?(y(),v(i,{key:u(e)._id,value:u(e)},{empty:_(({value:h})=>[f(l,{value:h},null,8,["value"])]),_:1},8,["value"])):(y(),v(a,{key:1}))]),_:1},8,["name"])])}}});export{Y as default};
